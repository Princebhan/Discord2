{"version":3,"sources":["components/common/Menu.js","context.js","components/common/Menus.js","components/friend/Sidebar.js","components/friend/Sidebars.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/enums.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/theme.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/localization/translator.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/warning-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/info-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/UIKitSettings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/FeatureRestriction/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/Storage.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/reduce-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/increase-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/SoundManager.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/end-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/common.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatEvent.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/progress.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/threaded-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/message-translate.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/video.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/audio-file.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/image.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/emoji.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/send-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/polls.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/stickers.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menu.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audio-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/info.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/create.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/private-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-read.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-sent.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/wait.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/warning-small.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/notify.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/privacy.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/help.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/warning.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/users.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/more.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/index.js","components/friend/Header.js","components/friend/SubHeader.js","components/friend/Pending.js","images/404.png","components/friend/NotFound.js","firebase.js","components/friend/Pendings.js","components/friend/Search.js","components/friend/User.js","components/friend/Users.js","components/friend/Add.js","components/friend/RightSidebar.js","components/friend/Main.js","components/friend/Friend.js","components/common/Modal.js","components/channel/Channel.js","components/channel/Channels.js","components/server/Sidebars.js","components/channel/Create.js","components/server/Header.js","components/server/Sidebar.js","components/server/RightSidebar.js","components/server/Main.js","components/server/Server.js","components/login/Login.js","components/register/SignUp.js","components/common/Loading.js","components/common/PrivateRoute.js","App.js","index.js"],"names":["Menu","props","isActive","onItemSelected","item","_jsx","className","concat","onClick","children","icon","React","createContext","Menus","cometChat","selectedMenu","setSelectedMenu","setSelectedFriend","setSelectedChannel","setSelectedChannelType","useContext","Context","history","useHistory","list","id","width","height","viewBox","fill","d","xmlns","style","stroke","strokeLinecap","strokeLinejoin","strokeWidth","push","async","window","confirm","logout","localStorage","removeItem","map","Sidebar","friend","onItemClicked","_Fragment","_jsxs","selectFriend","status","src","avatar","alt","name","Sidebars","friends","setFriends","useState","user","hasNewFriend","setHasNewFriend","userPresenseListenerId","useRef","uuidv4","loadFriends","listenCustomMessages","listenUserPresense","updateFriends","useEffect","removeMessageListener","removeUserListener","useCallback","cometChatAppId","process","cometChatAppRegion","cometChatApiKey","url","fetch","method","headers","Accept","apiKey","then","res","json","resBody","data","catch","err","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","sender","uid","customData","message","type","length","previousFriends","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","goMain","fillRule","transform","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","constructor","callListenerId","Date","getTime","attachListeners","callback","CometChat","addCallListener","this","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeListeners","removeCallListener","theme","fontFamily","fontSize","primaryColor","secondaryTextColor","color","primary","secondary","darkSecondary","grey","helpText","blue","white","red","borderColor","backgroundColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","Component","super","setAvatarImage","image","trim","getImage","Object","keys","hasOwnProperty","avatarImage","char","charAt","toUpperCase","generateAvatar","group","guid","img","Image","onload","_isMounted","setState","generator","canvas","document","createElement","context","getContext","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textAlign","textBaseline","fillText","toDataURL","imgRef","createRef","state","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","render","borderWidth","borderStyle","cornerRadius","jsx","css","overflow","display","borderRadius","ref","el","defaultProps","backdropStyle","zIndex","opacity","position","top","left","cursor","transition","CometChatBackdrop","show","clicked","badgeStyle","fontWeight","lineHeight","marginLeft","padding","marginRight","CometChatBadgeCount","count","presenceStyle","presenceStatus","float","CometChatUserPresence","CometChatContext","presence","setPresence","togglePresence","FeatureRestriction","isUserPresenceEnabled","response","error","translations","addEventListener","language","Translator","getBrowserLanguage","toLowerCase","setLanguage","getDirection","rtlLanguages","includes","translate","languageDb","defaultLanguage","_class","key","getLanguage","getItem","setItem","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","pointerEvents","marginBottom","minHeight","boxShadow","backgroundPosition","backgroundRepeat","flexDirection","justifyContent","alignItems","boxSizing","iconStyle","mask","CometChatToastNotification","clearAutoDismiss","setInfo","infoIcon","setAutoDismiss","setError","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","lang","keyframes","margin","border","outline","closeIcon","alertButtonStyle","CometChatConfirmDialog","_this$props","_this$props2","_this$props3","confirmButtonText","cancelButtonText","Fragment","close","right","value","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","CometChatContextProvider","getUser","reject","code","getGroup","hasJoined","groupType","password","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","getLoggedinUser","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","_this$state$callInPro","_this$state$callInPro2","_this$state$callInPro3","_this$state$callInPro4","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","Provider","toastNotificationPos","Storage","attachChangeDetection","detachChangeDetection","removeEventListener","storageKey","storageValue","JSON","stringify","parse","clear","callScreenWrapperStyle","fadeAnimation","_templateObject","_taggedTemplateLiteral","bottom","animation","callScreenResizerStyle","maximized","clipPath","background","CometChatCallScreen","PureComponent","enableDragging","e","preventDefault","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","current","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","build","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","onError","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","_this$loggedInUser","_call$sender","_this$loggedInUser2","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","_this$state$incomingC","_call","console","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textOverflow","whiteSpace","textTransform","CallScreenManager","onOutgoingCallRejected","styles","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","clearCallInProgress","cancelCall","CANCELLED","receiver","callIcon","messageAlertManager","msgListenerId","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","a","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","customType","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNextConversation","fetchNext","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeGroupListener","CometChatEvent","on","_triggers","triggerHandler","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","mq","CometChatConversationList","_this","selectedConversation","updateLastMessage","conversationList","conversationlist","conversationKey","findIndex","c","newConversationObj","splice","unshift","USER","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationObj","conversationType","conversationWith","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","_conversation$convers","_conversation$convers2","_conversation$lastMes","messageId","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","arguments","firstUnreadMessage","shouldIncrementCount","incomingMessage","_this$loggedInUser3","CATEGORY_MESSAGE","makeLastMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","target","_conversation$convers3","_conversation$convers4","deletedConversation","chatListRef","args","find","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","CometChatConversationListItem","messageContainer","wordWrap","closeBtn","navigateIcon","_extends","chatList","enableCloseMenu","dir","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","loadingIcon","actionIcon","deleteIcon","onMouseEnter","onMouseLeave","groupButtonStyle","listStyleType","listItem","itemLastMsgStyle","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","getTimeStampForLastMessage","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","_this$props$loggedInU","_lastMessage$sender","_lastMessage$sender2","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","borderTop","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","msgId","colons","triggerEmojiClick","querySelector","click","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","reactionClassName","Emoji","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","_this$props$message","_this$props$message$s","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","CometChatCreatePollOptions","tabIndex","createText","clearIcon","colSpan","autoFocus","placeholder","addIcon","creatingIcon","modalCloseStyle","removeOptionIconStyle","autoComplete","onChange","removeIcon","messageThumbnailStyle","nameWrapperStyle","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","shouldComponentUpdate","nextProps","nextState","reactionsData","CometChatMessageActions","documentTitle","flex","documentIcon","CometChatReadReceipt","CometChatThreadedMessageReplyCount","pollAnswerStyle","pollPercentStyle","answerWrapperStyle","optionData","_state$loggedInUser","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","whiteboardIcon","CometChatSenderDocumentBubble","wordBreak","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","_this$loggedInUser4","_this$loggedInUser5","_this$loggedInUser6","ONGOING","_this$loggedInUser7","_this$loggedInUser8","_this$loggedInUser9","UNANSWERED","_this$loggedInUser10","_this$loggedInUser11","ENDED","_message$actionBy","_message$actionOn","byUser","onUser","messageContainerStyle","_props$message","_props$message$sender","messageWrapperStyle","_props$message2","_props$message2$sende","_props$message3","_props$message3$sende","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","_props$message4","_props$message4$sende","messageTimeStampStyle","messageDetailStyle","_props$message5","_props$message5$sende","paddingSpace","_props$message6","_props$message6$sende","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","search","Picker","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","_this$context","_this$context2","_this$context3","_this$context3$item","_this$context4","_this$context4$item","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","messageActionStyle","_props$message$sender2","direction","deleteOption","backgroundProp","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","_this$state$loggedInU","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","_this$props$message$s2","_this$state$loggedInU2","_this$props$message$s3","_this$state$loggedInU3","_this$props$message2","_this$props$message2$","_this$state$loggedInU4","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","inputStickyStyle","attachments","disabledState","flexDirectionProp","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","showFilePicker","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","newMessage","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","incrementUnreadCount","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","content","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","videoCallText","videoCallBtn","viewDetailText","viewDetailBtn","detailPaneIcon","_this$context$item","_this$context$item2","_this$context$item3","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPreviousMessages","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","_message$sender","_this$state$loggedInU5","markMessageAsRead","messageReceivedHandler","_this$state$loggedInU6","_this$state$loggedInU7","_this$state$loggedInU8","_this$state$loggedInU9","customMessageReceivedHandler","getSenderMessageComponent","component","CometChatSenderTextMessageBubble","CometChatSenderImageMessageBubble","CometChatSenderFileMessageBubble","CometChatSenderVideoMessageBubble","CometChatSenderAudioMessageBubble","getReceiverMessageComponent","CometChatReceiverTextMessageBubble","CometChatReceiverImageMessageBubble","CometChatReceiverFileMessageBubble","CometChatReceiverAudioMessageBubble","CometChatReceiverVideoMessageBubble","getSenderCustomMessageComponent","CometChatSenderDirectCallBubble","getReceiverCustomMessageComponent","CometChatReceiverDirectCallBubble","getActionMessageComponent","getComponent","_this$state$loggedInU10","_message$sender2","_this$state$loggedInU11","_message$sender3","_this$MessageListMana","ifChatWindowChanged","_this$MessageListMana2","_this$MessageListMana3","cDate","dateSeparator","dateField","messageSentDate","getMessageDate","timeStampInMilliSeconds","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionHeaderStyle","buttonStyle","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","containerHeight","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","blockUserView","sharedmediaView","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","fetchNextUsers","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","newUserObj","getUsers","val","userListRef","userObject","newUserObject","currentLetter","chr","firstChar","selectedUser","CometChatUserListItem","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","CometChatUserListWithMessages","itemClicked","toggleSideBar","chatWithUser","messageScreen","CometChatMessages","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","fetchNextGroupMembers","fetchNextBannedGroupMembers","deleteLink","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","getBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","members","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","newItem","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","CometChatViewGroupMemberList","loggedinuser","addMembers","CometChatAddGroupMemberList","CometChatBanGroupMemberList","CometChatTransferOwnershipMemberList","GroupListManager","groupRequest","GroupsRequestBuilder","fetchNextGroups","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAdded","updateMemberJoined","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","groupList","createGroupHandler","createGroupActionHandler","groupListRef","selectedGroup","CometChatGroupListItem","createGroupBtn","groupSearchButtonStyle","groupListTemplate","groupListWrapper","itemIconStyle","groupTypeIcon","shieldIcon","lockIcon","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matches","userColumnTitle","matchMedia","CometChatViewGroupMemberListItem","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","scopeIconStyle","kickIconStyle","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","banIconStyle","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","userObj","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","CometChatAddGroupMemberListItem","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","CometChatBanGroupMemberListItem","userStyle","roleStyle","actionStyle","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","CometChatGroupListWithMessages","_len","otherProps","_key","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","_this$props$loggedinu","CometChatTransferOwnershipMemberListItem","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","_this$toastRef","infoCode","_this$toastRef2","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","stopReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","_this$getContext","_this$getContext2","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","CometChatMessageThread","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","messageSeparatorStyle","hr","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","msgTimestampStyle","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","oTimestamp","controls","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","_this$props$message$d","imageUrl","downloadImage","setMessageImageUrl","_this$props$message$d2","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","parsedMessage","emojiMessage","showVariation","emojiProp","zoom","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","ReactHtmlParser","decodeEntities","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","getFileData","Blob","fileName","fileUrl","fileData","_this$state$fileData","_this$state$fileData2","_this$state$fileData3","readAsDataURL","_this$props$message$d3","messageTextRef","replyCountStyle","reply","setReply","toggleReply","replies","chatScreenSidebarStyle","chatScreenMainStyle","CometChatConversationListWithMessages","tab","userInfoScreenStyle","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","userProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","activeStateBg","itemLinkTextStyle","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","CometChatUI","navBarAction","navBarRef","Header","selectItem","SubHeader","Pending","onAccepted","onRejected","fullname","clipRule","NotFound","notFound","firebaseConfig","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","firebase","apps","initializeApp","realTimeDb","database","auth","firestore","storage","Pendings","authenticatedUser","setAuthenticatedUser","setIsLoading","loadCurrentUser","loadPendingRequests","child","orderByChild","equalTo","email","snapshot","pending","set","updateSelectedUser","waiting","w","updateAuthenticatedUser","addCometChatFriend","body","accepted","_ref","receiverID","alert","once","authenticatedUserFriend","selectedUserFriend","addFirebaseFriend","Search","onSearchChanged","keywords","User","selectUser","Users","onConfirmShown","Add","loadUsers","startAt","endAt","filterUsers","filteredUsers","isNotFriend","isFriend","isWaiting","isPending","authenticatedUserPending","selectedUserPending","updateUsers","RightSidebar","Main","setSelectedOption","selectedFriend","Friend","withModal","ModalComponent","WrapperComponent","isModalShown","setIsModalShown","toggleModal","Channel","channelType","channel","selectChannel","Channels","channels","isExpanded","setIsExpanded","toggleExpand","previous","selectedType","setSelectedType","channelNameRef","selectChannelType","channelName","createdChannel","createChannel","_ref2","createFirebaseChannel","_ref3","createCometChatGroup","textChannels","setTextChannels","voiceChannels","setVoiceChannels","loadTextChannels","loadVoiceChannels","onChannelSelected","selectedChannel","convertedChannelType","latestSelectedChannel","getLatestSelectedChannel","joinFirebaseChannel","joinCometChatGroup","previousChannels","setActiveChannel","setMembers","loadChannelMembers","listenGroupChanges","leftUser","leftGroup","addedby","addedTo","previousMembers","selectedChannelType","audioOnly","defaultLayout","callSceen","getElementById","onUserListUpdated","remove","onMediaDeviceListUpdated","deviceList","onUserMuted","userMuted","userMutedBy","onScreenShareStarted","onScreenShareStopped","Server","fullnameRef","emailRef","passwordRef","confirmPasswordRef","signup","confirmPassword","validator","isEmpty","isEmail","isLength","isSignupValid","userUuid","userAvatar","avatars","createUserWithEmailAndPassword","userCrendentials","createdAccount","createAccount","authKey","setName","setAvatar","createUser","createCometChatAccount","setUser","login","isUserCredentialsValid","signInWithEmailAndPassword","userCredential","loginCometChat","Loading","PrivateRoute","rest","Route","Redirect","to","App","isLoading","setCometChat","initAuthUser","initCometChat","initSelectedMenu","appID","region","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","location","Router","Switch","exact","path","Login","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.0ae8ee19.chunk.js","sourcesContent":["const Menu = (props) => {\n  const { isActive, onItemSelected, item } = props;\n  return (\n    <div className={`menu__item ${isActive ? 'menu__item--active' : ''}`} onClick={onItemSelected(item)}>{item.icon}</div>\n  );\n};\nexport default Menu;","import React from 'react';\n\nexport default React.createContext(null);\n\n","import { useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport Menu from './Menu';\nimport Context from '../../context';\n\nconst Menus = () => {\n  const { cometChat, selectedMenu, setSelectedMenu, setSelectedFriend, setSelectedChannel, setSelectedChannelType } = useContext(Context);\n\n  const history = useHistory();\n\n  const list = [\n    {\n      id: 1,\n      icon: <svg className=\"homeIcon-AaowEC\" aria-hidden=\"false\" width=\"28\" height=\"20\" viewBox=\"0 0 28 20\"><path fill=\"currentColor\" d=\"M23.0212 1.67671C21.3107 0.879656 19.5079 0.318797 17.6584 0C17.4062 0.461742 17.1749 0.934541 16.9708 1.4184C15.003 1.12145 12.9974 1.12145 11.0283 1.4184C10.819 0.934541 10.589 0.461744 10.3368 0.00546311C8.48074 0.324393 6.67795 0.885118 4.96746 1.68231C1.56727 6.77853 0.649666 11.7538 1.11108 16.652C3.10102 18.1418 5.3262 19.2743 7.69177 20C8.22338 19.2743 8.69519 18.4993 9.09812 17.691C8.32996 17.3997 7.58522 17.0424 6.87684 16.6135C7.06531 16.4762 7.24726 16.3387 7.42403 16.1847C11.5911 18.1749 16.408 18.1749 20.5763 16.1847C20.7531 16.3332 20.9351 16.4762 21.1171 16.6135C20.41 17.0369 19.6639 17.3997 18.897 17.691C19.3052 18.4993 19.7718 19.2689 20.3021 19.9945C22.6677 19.2689 24.8929 18.1364 26.8828 16.6466H26.8893C27.43 10.9731 25.9665 6.04728 23.0212 1.67671ZM9.68041 13.6383C8.39754 13.6383 7.34085 12.4453 7.34085 10.994C7.34085 9.54272 8.37155 8.34973 9.68041 8.34973C10.9893 8.34973 12.0395 9.54272 12.0187 10.994C12.0187 12.4453 10.9828 13.6383 9.68041 13.6383ZM18.3161 13.6383C17.0332 13.6383 15.9765 12.4453 15.9765 10.994C15.9765 9.54272 17.0124 8.34973 18.3161 8.34973C19.6184 8.34973 20.6751 9.54272 20.6543 10.994C20.6543 12.4453 19.6184 13.6383 18.3161 13.6383Z\"></path></svg>\n    },\n    {\n      id: 2,\n      icon: <svg xmlns=\"http://www.w3.org/2000/svg\" style={{width: '1.5rem', height: '1.5rem'}} className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01\" /></svg>\n    },\n    {\n      id: 3, \n      icon: <svg style={{width: '1.5rem', height: '1.5rem'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" /></svg>\n    }\n  ];\n\n  const logout = async () => {\n    const isLogout = window.confirm('Do you want to logout?');\n    if (isLogout) {\n      await cometChat.logout();\n      setSelectedMenu(4);\n      setSelectedFriend(null);\n      setSelectedChannel(null);\n      setSelectedChannelType(null);\n      localStorage.removeItem('auth');\n      history.push('/login');\n    }\n  };\n\n  const onItemSelected = (item) => () => {\n    setSelectedMenu(() => item.id);\n    if (item.id === 1) {\n      history.push('/');\n    } else if (item.id === 2)  {\n      history.push('/server');\n    } else if (item.id === 3) {\n      logout();\n    }\n  };\n\n  return (\n    <div className=\"menu\">\n      {list.map(item => <Menu key={item.id} isActive={item.id === selectedMenu} onItemSelected={onItemSelected} item={item} />)}\n    </div>\n  );\n};\nexport default Menus;","const Sidebar = (props) => {\n  const { friend, onItemClicked } = props;\n\n  if (!friend) {\n    return <></>\n  }\n  \n  const selectFriend = () => {\n    onItemClicked(friend);\n  };\n\n  return (\n    <div className=\"friends__list-item\" onClick={selectFriend}>\n      <div className=\"friends__list-item-avatar\">\n        <div className={`friends__list-item-status ${friend.status === 'available' ? 'friends__list-item-status--online' : ''}`}></div>\n        <img src={friend.avatar} alt=\"friend-avatar\" />\n      </div>\n      <span>{friend.name}</span>\n    </div>\n  );\n};\nexport default Sidebar;","import { useState, useEffect, useContext, useRef, useCallback } from 'react';\nimport { v4 as uuidv4 } from \"uuid\";\nimport Sidebar from './Sidebar';\nimport Context from '../../context';\n\nconst Sidebars = () => {\n  const [friends, setFriends] = useState([]);\n\n  const { cometChat, user, hasNewFriend, setHasNewFriend, setSelectedFriend } = useContext(Context);\n\n  const userPresenseListenerId = useRef(uuidv4());\n\n  let loadFriends = null;\n  let listenCustomMessages = null;\n  let listenUserPresense = null;\n  let updateFriends = null;\n\n  useEffect(() => {\n    if (hasNewFriend) {\n      loadFriends();\n    }\n  }, [hasNewFriend, loadFriends]);\n\n  useEffect(() => {\n    if (user) {\n      loadFriends();\n    }\n    if (cometChat && user) {\n      listenCustomMessages();\n      listenUserPresense();\n    }\n    return () => {\n      setFriends([]);\n      setSelectedFriend(null);\n      if (cometChat && user && user.id) {\n        cometChat.removeMessageListener(user.id);\n        cometChat.removeUserListener(userPresenseListenerId);\n      }\n    }\n  }, [user, cometChat, loadFriends, listenCustomMessages, listenUserPresense, setSelectedFriend, userPresenseListenerId]);\n\n  loadFriends = useCallback(() => {\n    const cometChatAppId = `${process.env.REACT_APP_COMETCHAT_APP_ID}`;\n    const cometChatAppRegion = `${process.env.REACT_APP_COMETCHAT_REGION}`;\n    const cometChatApiKey = `${process.env.REACT_APP_COMETCHAT_API_KEY}`;\n    const url = `https://${cometChatAppId}.api-${cometChatAppRegion}.cometchat.io/v3/users/${user.id}/friends`;\n    const options = {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        apiKey: cometChatApiKey,\n      }\n    };\n    fetch(url, options)\n      .then((res) => {\n        res.json().then(resBody => setFriends(resBody.data));\n        setHasNewFriend(false);\n      })\n      .catch((err) => {\n      });\n  }, [setHasNewFriend, user]);\n\n  listenCustomMessages = useCallback(() => {\n    cometChat.addMessageListener(\n      user.id,\n      new cometChat.MessageListener({\n        onCustomMessageReceived: customMessage => {\n          if (customMessage && customMessage.sender && customMessage.sender.uid && customMessage.sender.uid !== user.id && customMessage.data && customMessage.data.customData && customMessage.data.customData.message) {\n            if (customMessage && customMessage.type && customMessage.type === 'friend') {\n              loadFriends();\n            }\n          }\n        }\n      })\n    );\n  }, [cometChat, loadFriends, user]);\n\n  updateFriends = (user) => {\n    if (!user) {\n      return;\n    }\n    if (friends && friends.length) {\n      setFriends(previousFriends => previousFriends.map(friend => {\n        if (friend && friend.uid === user.uid) {\n          return { ...friend, status: user.status === 'online' ? 'available' : 'offline' };\n        }\n        return { ...friend };\n      }));\n    }\n  }\n\n  listenUserPresense = useCallback(() => {\n    cometChat.addUserListener(\n      userPresenseListenerId,\n      new cometChat.UserListener({\n        onUserOnline: onlineUser => {\n          updateFriends(onlineUser);\n        },\n        onUserOffline: offlineUser => {\n          updateFriends(offlineUser);\n        }\n      })\n    );\n  }, [cometChat, userPresenseListenerId, updateFriends]);\n\n  const goMain = () => {\n    setSelectedFriend(null);\n  };\n\n  const selectFriend = (friend) => {\n    if (!friend) {\n      return;\n    }\n    setSelectedFriend(friend);\n  };\n\n  return (\n    <div className=\"friends__sidebar\">\n      <div className=\"friends__header\" onClick={goMain}>\n        <span>\n          <svg className=\"linkButtonIcon-Mlm5d6\" aria-hidden=\"false\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><g fill=\"none\" fillRule=\"evenodd\"><path fill=\"currentColor\" fillRule=\"nonzero\" d=\"M0.5,0 L0.5,1.5 C0.5,5.65 2.71,9.28 6,11.3 L6,16 L21,16 L21,14 C21,11.34 15.67,10 13,10 C13,10 12.83,10 12.75,10 C8,10 4,6 4,1.5 L4,0 L0.5,0 Z M13,0 C10.790861,0 9,1.790861 9,4 C9,6.209139 10.790861,8 13,8 C15.209139,8 17,6.209139 17,4 C17,1.790861 15.209139,0 13,0 Z\" transform=\"translate(2 4)\"></path><path d=\"M0,0 L24,0 L24,24 L0,24 L0,0 Z M0,0 L24,0 L24,24 L0,24 L0,0 Z M0,0 L24,0 L24,24 L0,24 L0,0 Z\"></path></g></svg>\n        </span>\n        <span className=\"friends__header-title\">Friends</span>\n      </div>\n      <span className=\"friends__title\">Direct Messages</span>\n      <div className=\"friends__list\">\n        {friends && friends.map(friend => <Sidebar key={friend.uid} friend={friend} onItemClicked={selectFriend} />)}\n      </div>\n    </div>\n  );\n};\nexport default Sidebars;","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"\", clap: \"\", wink: \"\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet count = \"\";\n\n\tif(props.count) {\n\t\tcount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn count;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\n\n// the translations\nconst translations = {\n    \"ar\": translationAR,\n    \"de\": translationDE,\n    \"en\": translationEN,\n    \"es\": translationES,\n    \"fr\": translationFR,\n    \"hi\": translationHI,\n    \"ms\": translationMS,\n    \"pt\": translationPT,\n    \"ru\": translationRU,\n    \"zh\": translationZH,\n    \"zh-tw\": translationZHTW,\n    \"sv\": translationSV,\n    \"lt\": translationLT,\n};\n\nwindow.addEventListener('languagechange', () => {\n    let language = Translator.getBrowserLanguage().toLowerCase();\n    Translator.setLanguage(language);\n});\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport {CometChatConfirmDialog};","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t}\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\t\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.getLoggedinUser();\n\t\t\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t\tthis.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t\tthis.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\tthis.setItem({});\n\t\t\tthis.setType(\"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\t\t\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t}\n\t}\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t};\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t};\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t};\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\t\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {}: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject({\n                \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\n                \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_MODE\": Translator.translate(\"SELECT_MODE\", this.props.lang)\n            }).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .setSessionID(sessionId)\n            .enableDefaultLayout(true)\n            .setMode(CometChat.CALL_MODE.DEFAULT)\n            .setIsAudioOnlyCall(callType)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject({\n                \"SELECT_VIDEO_SOURCE\": Translator.translate(\"SELECT_VIDEO_SOURCE\", this.props.lang),\n                \"SELECT_INPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", this.props.lang),\n                \"SELECT_OUTPUT_AUDIO_SOURCE\": Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", this.props.lang)\n            }).build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"DECLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"ACCEPT\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"IGNORE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"JOIN\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = Translator.translate(\"TODAY\", lang);\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tselectedConversation = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\t\tif (\n\t\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t\t) {\n\t\t\t\t\treturn c;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\n\t\t\tif (Object.keys(this.getContext().item).length === 0) {\n\t\t\t\tthis.selectedConversation = null;\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tif (this.selectedConversation) {\n\t\t\tthis.selectedConversation[\"unreadMessages\"] = params.unreadMessages;\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tif (this.selectedConversation) {\n\t\t\t\n\t\t\tthis.selectedConversation[\"unreadMessages\"] = [];\n\t\t\tlet conversationList = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === this.selectedConversation.conversationId);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet conversationObj = { ...conversationList[conversationKey] };\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (this.selectedConversation && this.selectedConversation.conversationId === conversation.conversationId) {\n\t\t\tif (this.selectedConversation.hasOwnProperty(\"unreadMessages\") && this.selectedConversation.unreadMessages.length) {\n\t\t\t\tconst firstUnreadMessage = this.selectedConversation.unreadMessages[0];\n\t\t\t\tconst selectedConversation = this.selectedConversation;\n\n\t\t\t\tif (firstUnreadMessage.hasOwnProperty(\"conversationId\") && firstUnreadMessage.conversationId === selectedConversation.conversationId) {\n\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\tthis.selectedConversation.unreadMessages.forEach(message => {\n\t\t\t\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else if (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tunreadMessageCount = 0;\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\t\tif (!this.props.onItemClick) return;\n\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t\tthis.selectedConversation = conversation;\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tif (this.selectedConversation && this.selectedConversation.conversationId === conversation.conversationId) {\n\t\t\t\tthis.selectedConversation = null;\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\t\t\tif (this.getContext() && Object.keys(this.getContext().item).length && this.getContext().type.trim().length) {\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === conversation.conversationWith.uid) {\n\t\t\t\t\tthis.selectedConversation = conversation;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === conversation.conversationWith.guid) {\n\t\t\t\t\tthis.selectedConversation = conversation;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} selectedConversation={this.selectedConversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };\n","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\tcursor: \"pointer\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableMessageReaction();\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttriggerEmojiClick = event => {\n\t\tevent.stopPropagation();\n\t\tevent.currentTarget.querySelector(\".emoji-mart-emoji\").click();\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle} onClick={this.triggerEmojiClick}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 40px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        padding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\tmaxWidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    pickerStyle\n} from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n\n    categories = {};\n    title = \"\";\n\n    constructor(props) {\n\n        super(props);\n\n        const categories = {\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n            objects: Translator.translate(\"OBJECTS\", props.lang),\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\n            flags: Translator.translate(\"FLAGS\", props.lang)\n        }\n\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n\n        this.state = {\n            categories: categories, \n            title: title\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(prevProps.lang !== this.props.lang) {\n\n            const categories = {\n                search: Translator.translate(\"SEARCH\", this.props.lang),\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\n            }\n\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n\n            this.setState({ categories: { ...categories}, title: title });\n        }\n    }\n\n    render() {\n\n        const exclude = [\"search\", \"recent\"];\n        return(\n            <div css={pickerStyle()}>\n            <Picker\n            title={this.state.title}\n            emoji=\"point_up\"\n            native\n            onClick={this.props.emojiClicked}\n            showPreview={false}\n            exclude={exclude}\n            i18n={{ categories: this.state.categories }} \n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n    lang: PropTypes.string,\n}\n\nexport { CometChatEmojiKeyboard };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\n\treactToMessages = emoji => {\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\tconst videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\tconst audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\tconst imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\tconst attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\tplaceholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.context.language)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.context.language);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle()} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", context.language),\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid !== this.item.uid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"LOADING\", this.context.language) });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_MESSAGES_FOUND\", this.context.language) });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message);\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: Translator.translate(\"LOADING\", this.context.language) });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message);\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight < 20) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop === this.messagesEnd.clientHeight) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.context.language)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BLOCK_USER_SUCCESS\");\n\t\t\t\t\tthis.context.setItem(Object.assign({}, this.context.item, { blockedByMe: true }));\n\t\t\t\t\tthis.context.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"UNBLOCK_USER_SUCCESS\");\n\t\t\t\t\tthis.context.setItem(Object.assign({}, this.context.item, { blockedByMe: false }));\n\t\t\t\t\tthis.context.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{Translator.translate(\"BLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{viewProfile}\n\t\t\t\t{blockUserView}\n\t\t\t\t{sharedmediaView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = () => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"14px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle()} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle()} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"USERS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = () => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\" \n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle()} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"20px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {};\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"20px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateMemberAdded(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberJoined(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateMemberAdded = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tlet scope = group.hasOwnProperty(\"scope\") ? group.scope : \"\";\n\t\t\tlet hasJoined = group.hasOwnProperty(\"hasJoined\") ? group.hasJoined : false;\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...group};\n\n\t\t\tlet scope = groupObj.hasOwnProperty(\"scope\") ? groupObj.scope : \"\";\n\t\t\tlet hasJoined = groupObj.hasOwnProperty(\"hasJoined\") ? groupObj.hasJoined : false;\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.unshift(newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberJoined = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet scope = groupObj.scope;\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle()} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = () => {\n\n    return {\n        maxWidth: \"calc(100% - 30px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        margin: \"0\"\n    }\n}\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"12px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName()}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n        this._isMounted = false;\n        const chatWindow = context.UIKitSettings.chatWindow;\n        this.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n        \n        let userColumnTitle = Translator.translate(\"NAME\", context.language);\n        if (this.mq.matches) {\n            userColumnTitle = Translator.translate(\"AVATAR\", context.language)\n        }\n\n        this.state = {\n            userColumnTitle: userColumnTitle,\n            errorMessage: \"\"\n        }\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n        }\n    }\n\n    updateMembers = (action, member, scope) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n                this.banMember(member);\n                break;\n            case enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n                this.kickMember(member);\n                break;\n            case enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n                this.changeScope(member, scope);\n                break;\n            default:\n                break;\n        }\n    }\n\n    banMember = (memberToBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.banGroupMember(guid, memberToBan.uid).then(response => {\n            \n            if(response) {\n\n                this.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n                this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    kickMember = (memberToKick) => {\n\n        const guid = this.context.item.guid;\n        CometChat.kickGroupMember(guid, memberToKick.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n            \n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    changeScope = (member, scope) => {\n\n        const guid = this.context.item.guid;\n        CometChat.updateGroupMemberScope(guid, member.uid, scope).then(response => {\n            \n            if(response) {\n\n                this.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n                const updatedMember = Object.assign({}, member, {scope: scope});\n                this.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n            \n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    setUserColumnTitle = (editAccess) => {\n\n        if (this._isMounted) {\n            \n            if (editAccess !== null && this.mq.matches) {\n                this.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n            } else {\n                this.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n            }\n        }\n    }\n\n    render() {\n\n        const membersList = [...this.context.groupMembers];\n        \n        const groupMembers = membersList.map((member, key) => {\n        \n            return (\n                <CometChatViewGroupMemberListItem\n                    loggedinuser={this.props.loggedinuser}\n                    theme={this.props.theme}\n                    key={key}\n                    member={member}\n                    enableChangeScope={this.props.enableChangeScope}\n                    enableBanGroupMembers={this.props.enableBanGroupMembers}\n                    enableKickGroupMembers={this.props.enableKickGroupMembers}\n                    actionGenerated={this.updateMembers} />\n            );\n        });\n\n        let editAccess = null;\n        if(this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{Translator.translate(\"BAN\", this.context.language)}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{Translator.translate(\"KICK\", this.context.language)}</div>\n                </React.Fragment>\n            );\n\n            if (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n                editAccess = null;\n            }\n        }\n\n        this.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.context, editAccess)} className=\"name\">{this.state.userColumnTitle}</div>\n                                <div css={scopeColumnStyle(this.context)} className=\"scope\">{Translator.translate(\"SCOPE\", this.context.language)}</div>\n                                {editAccess}\n                            </div>\n                            <div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n                                {groupMembers}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = (<span css={roleStyle()}>{this.roles[this.props.member.scope]}</span>);\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.item.uid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"]);\n\t\t\t} else {\n\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatMessageList\n\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmessages={this.state.messageList}\n\t\t\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t\t\t/>\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    const colorValue = (props.message?.sender?.uid !== loggedInUser?.uid) ? {\n        color: `${context.theme.color.helpText}`,\n    } : {};\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        ...colorValue,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"inline-flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n    }\n}\n","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\"\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}","export default __webpack_public_path__ + \"static/media/notify.009f4c07.svg\";","export default __webpack_public_path__ + \"static/media/privacy.35a868f9.svg\";","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/help.c1640c5b.svg\";","export default __webpack_public_path__ + \"static/media/warning.d0632c5b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionTitleStyle,\n\toptionListStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n\nimport notificationIcon from \"./resources/notify.svg\";\nimport privacyIcon from \"./resources/privacy.svg\";\nimport chatIcon from \"./resources/chats.svg\";\nimport helpIcon from \"./resources/help.svg\";\nimport reportIcon from \"./resources/warning.svg\";\n\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\trender() {\n\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"PREFERENCES\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(notificationIcon)} className=\"option option-notification\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(chatIcon)} className=\"option option-chats\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"OTHER\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(helpIcon)} className=\"option option-help\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"HELP\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(reportIcon)} className=\"option option-report\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","const Header = (props) => {\n  const { onItemSelected, selectedOption } = props;\n\n  const selectItem = (index) => () => {\n    onItemSelected(index);\n  };\n\n  return (\n    <div className=\"friends__main-header\">\n      <span onClick={selectItem(1)} className={`${selectedOption === 1 ? 'friends__main-header--active' : ''}`}>Pending</span>\n      <span onClick={selectItem(3)} className=\"friends__add-friend\">Add Friend</span>\n    </div>\n  );\n};\nexport default Header;","const SubHeader = (props) => {\n  const { title } = props;\n\n  return (\n    <div className=\"friends__sub-header\">\n      <span>{title}</span>\n    </div>\n  );\n};\nexport default SubHeader;","const Pending = (props) => {\n  const { user, onAccepted, onRejected } = props;\n\n  const accept = () => {\n    onAccepted(user);\n  };\n\n  const reject = () => {\n    onRejected(user);\n  };\n\n  return (\n    <div className=\"friends__pending-list-item\">\n      <div className=\"friends__pending-list-item-left\">\n        <img src={user.avatar} alt={user.fullname} />\n        <span>{user.fullname}</span>\n      </div>\n      <div className=\"friends__pending-list-item-right\">\n        <div className=\"friends__accept\" onClick={accept}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n        <div className=\"friends__reject\" onClick={reject}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n      </div>\n    </div>\n  )\n};\nexport default Pending;","export default __webpack_public_path__ + \"static/media/404.aaa574bc.png\";","import notFound from '../../images/404.png';\n\nconst NotFound = () => {\n  return (\n    <div className=\"not-found\">\n      <img src={notFound} alt=\"404\"/>\n      <p>No one's around to play with Wumpus.</p>\n    </div>\n  );\n};\nexport default NotFound; ","import firebase from \"firebase\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\n  authDomain: `${process.env.REACT_APP_FIREBASE_AUTH_DOMAIN}`,\n  databaseURL: `${process.env.REACT_APP_FIREBASE_DATABASE_URL}`,\n  projectId: `${process.env.REACT_APP_FIREBASE_PROJECT_ID}`,\n  storageBucket: `${process.env.REACT_APP_FIREBASE_STORAGE_BUCKET}`,\n  messagingSenderId: `${process.env.REACT_APP_FIREABSE_MESSAGING_SENDER_ID}`,\n  appId: `${process.env.REACT_APP_FIREBASE_APP_ID}`,\n};\n\nconst app = !firebase.apps.length\n  ? firebase.initializeApp(firebaseConfig)\n  : firebase.app();\nconst realTimeDb = app.database();\nconst db = app.firestore();\nconst auth = app.auth();\nconst storage = firebase.storage();\n\nexport { auth, db, storage, realTimeDb };\n","import { useEffect, useState, useContext } from 'react';\nimport SubHeader from \"./SubHeader\";\nimport Pending from './Pending';\nimport NotFound from './NotFound';\nimport Context from '../../context';\nimport { realTimeDb } from '../../firebase';\n\nconst Pendings = () => {\n  const [authenticatedUser, setAuthenticatedUser] = useState(null);\n  const [users, setUsers] = useState(null);\n\n  const { cometChat, setIsLoading, setHasNewFriend } = useContext(Context);\n\n  let loadCurrentUser = null;\n  let loadPendingRequests = null;\n\n  useEffect(() => {\n    loadCurrentUser();\n    return () => {\n      setAuthenticatedUser(null);\n      setUsers(null);\n    }\n  }, [loadCurrentUser]);\n\n  useEffect(() => {\n    if (authenticatedUser) {\n      loadPendingRequests();\n    }\n  }, [authenticatedUser, loadPendingRequests]);\n\n  loadCurrentUser = () => {\n    setIsLoading(true);\n    const user = JSON.parse(localStorage.getItem('auth'));\n    realTimeDb.ref().child('users').orderByChild('email').equalTo(user.email).on(\"value\", function (snapshot) {\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const user = val[keys[0]];\n        setAuthenticatedUser(user);\n        setIsLoading(false);\n      }\n    });\n  };\n\n  loadPendingRequests = () => {\n    if (!authenticatedUser) {\n      return;\n    }\n    setIsLoading(true);\n    realTimeDb.ref().child('users').orderByChild('email').equalTo(authenticatedUser.email).on(\"value\", function (snapshot) {\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const user = val[keys[0]];\n        setUsers(() => user.pending ? user.pending : []);\n        setIsLoading(false);\n      }\n    });\n  };\n\n  const updateUser = async (user) => {\n    if (!user) {\n      return;\n    }\n    await realTimeDb.ref(`users/${user.id}`).set(user);\n  };\n\n  const updateSelectedUser = async (selectedUser, authenticatedUser) => {\n    if (!selectedUser || !authenticatedUser) {\n      return;\n    }\n    selectedUser.waiting = selectedUser.waiting && selectedUser.waiting.length ? selectedUser.waiting.filter(w => w.id !== authenticatedUser.id) : [];\n    await updateUser(selectedUser);\n  };\n\n  const updateAuthenticatedUser = async (selectedUser, authenticatedUser) => {\n    if (!selectedUser || !authenticatedUser) {\n      return;\n    }\n    authenticatedUser.pending = authenticatedUser.pending && authenticatedUser.pending.length ? authenticatedUser.pending.filter(p => p.id !== selectedUser.id) : [];\n    await updateUser(authenticatedUser);\n  };\n\n  const addFirebaseFriend = async (selectedUser, authenticatedUser) => {\n    if (!selectedUser || !authenticatedUser) {\n      return;\n    }\n    const authenticatedUserFriend = { id: authenticatedUser.id, fullname: authenticatedUser.fullname, email: authenticatedUser.email, avatar: authenticatedUser.avatar };\n    const selectedUserFriend = { id: selectedUser.id, fullname: selectedUser.fullname, email: selectedUser.email, avatar: selectedUser.avatar };\n\n    authenticatedUser.friends = authenticatedUser.friends && authenticatedUser.friends.length ? [...authenticatedUser.friends, selectedUserFriend] : [selectedUserFriend];\n    selectedUser.friends = selectedUser.friends && selectedUser.friends.length ? [...selectedUser.friends, authenticatedUserFriend] : [authenticatedUserFriend];\n\n    await updateUser(authenticatedUser);\n    await updateUser(selectedUser);\n  };\n\n  const sendCustomMessage = ({ message, type, receiverId }) => {\n    const receiverID = receiverId;\n    const customType = type;\n    const receiverType = cometChat.RECEIVER_TYPE.USER;\n    const customData = { message };\n    const customMessage = new cometChat.CustomMessage(receiverID, receiverType, customType, customData);\n\n    cometChat.sendCustomMessage(customMessage).then(\n      message => {\n      },\n      error => {\n      }\n    );\n  };\n\n  const addCometChatFriend = async (selectedUser, authenticatedUser) => {\n    if (!selectedUser || !authenticatedUser) {\n      return;\n    }\n    const cometChatAppId = `${process.env.REACT_APP_COMETCHAT_APP_ID}`;\n    const cometChatAppRegion = `${process.env.REACT_APP_COMETCHAT_REGION}`;\n    const cometChatApiKey = `${process.env.REACT_APP_COMETCHAT_API_KEY}`;\n    const url = `https://${cometChatAppId}.api-${cometChatAppRegion}.cometchat.io/v3/users/${authenticatedUser.id}/friends`;\n    const options = {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        appId: cometChatAppId,\n        apiKey: cometChatApiKey,\n      },\n      body: JSON.stringify({ accepted: [selectedUser.id] }),\n    };\n    const response = await fetch(url, options);\n    if (response) {\n      const customMessage = {\n        message: `${authenticatedUser.fullname} has accepted your friend request`,\n        type: 'friend',\n        receiverId: selectedUser.id\n      };\n      sendCustomMessage(customMessage);\n      setHasNewFriend(true);\n      alert(`${selectedUser.fullname} was added as a friend succesfully`);\n    } else {\n      alert(`Failure to add ${selectedUser.fullname} as a friend`);\n    }\n    setIsLoading(false);\n  };\n\n  const onAccepted = async (selectedUser) => {\n    if (!selectedUser) {\n      return;\n    }\n    const shouldAddFriend = window.confirm('Would you like to accept this request?');\n    if (shouldAddFriend) {\n      const snapshot = await realTimeDb.ref().child('users').orderByChild('email').equalTo(selectedUser.email).once(\"value\");\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const user = val[keys[0]];\n        await updateSelectedUser(user, authenticatedUser);\n        await updateAuthenticatedUser(user, authenticatedUser);\n        await addFirebaseFriend(user, authenticatedUser);\n        await addCometChatFriend(user, authenticatedUser);\n      }\n    }\n  };\n\n  const onRejected = async (selectedUser) => {\n    if (!selectedUser) {\n      return;\n    }\n    const shouldRequestRejected = window.confirm('Would you like to reject this request?');\n    if (shouldRequestRejected) {\n      const snapshot = await realTimeDb.ref().child('users').orderByChild('email').equalTo(selectedUser.email).once(\"value\");\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const user = val[keys[0]];\n        await updateSelectedUser(user, authenticatedUser);\n        await updateAuthenticatedUser(user, authenticatedUser);\n      }\n    }\n  };\n\n  if (!users || !users.length) {\n    return <NotFound />;\n  }\n\n  return (\n    <div className=\"friends__pl\">\n      <SubHeader title={`Pending - ${users.length}`} />\n      {users.map(user => <Pending key={user.id} user={user} onAccepted={onAccepted} onRejected={onRejected} />)}\n    </div>\n  )\n};\nexport default Pendings;","const Search = (props) => {\n  const { onSearchChanged } = props;\n\n  const onChanged = (e) => {\n    const keywords = e.target.value.trim();\n    onSearchChanged(keywords);\n  };\n\n  return (\n    <div className=\"add-friend__search\">\n      <span className=\"add-friend__search-title\">Add Friend</span>\n      <p className=\"add-friend__search-sub-title\">You can add a friend by searching their names!</p>\n      <input type=\"text\" placeholder=\"Enter Username\" onChange={onChanged} />\n    </div>\n  );\n};\nexport default Search;","const User = (props) => {\n  const { user, onItemClicked } = props;\n\n  const selectUser = (user) => () => {\n    onItemClicked(user);\n  };\n\n  return (\n    <div className=\"add-friend__list-item\" onClick={selectUser(user)}>\n      <div className=\"add-friend__list-item-left\">\n        <img src={user.avatar} alt={user.fullname} />\n        <span>{user.fullname}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default User;","import User from './User';\n\nconst Users = (props) => {\n  const { users, onConfirmShown } = props;\n\n  if (!users || !users.length) { \n    return <></>;\n  }\n\n  return (\n    <div className=\"add-friend__list\">\n      {users.map(user => <User key={user.id} user={user} onItemClicked={onConfirmShown} />)}\n    </div>\n  );\n};\nexport default Users;","import { useEffect, useState, useContext } from 'react';\nimport Search from './Search';\nimport Users from './Users';\nimport Context from '../../context';\nimport { realTimeDb } from '../../firebase';\n\nconst Add = () => {\n  const [authenticatedUser, setAuthenticatedUser] = useState(null);\n  const [users, setUsers] = useState(null);\n\n  const { setIsLoading } = useContext(Context);\n\n  let loadCurrentUser = null;\n  let loadUsers = null;\n\n  useEffect(() => {\n    loadCurrentUser();\n    return () => {\n      setUsers([]);\n    }\n  }, [loadCurrentUser]);\n\n  useEffect(() => {\n    if (authenticatedUser) {\n      loadUsers();\n    }\n  }, [authenticatedUser, loadUsers]);\n\n  loadCurrentUser = () => {\n    setIsLoading(true);\n    const user = JSON.parse(localStorage.getItem('auth'));\n    realTimeDb.ref().child('users').orderByChild('email').equalTo(user.email).on(\"value\", function (snapshot) {\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const user = val[keys[0]];\n        setAuthenticatedUser(user);\n        setIsLoading(false);\n      }\n    });\n  };\n\n  const isFriend = (friends, id) => {\n    if (!friends || !friends.length) {\n      return false;\n    }\n    for (const friend of friends) {\n      if (friend && friend.id === id) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const isWaiting = (waiting, id) => {\n    if (!waiting || !waiting.length) {\n      return false;\n    }\n    for (const w of waiting) {\n      if (w.id === id) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const isPending = (pending, id) => { \n    if (!pending || !pending.length) {\n      return false;\n    }\n    for (const p of pending) {\n      if (p.id === id) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const isNotFriend = (authenticatedUser, user) => {\n    if (!authenticatedUser || !user) {\n      return false;\n    }\n    const id = user.id;\n    if (authenticatedUser.id && authenticatedUser.id === user.id) {\n      return false;\n    }\n    if (isFriend(authenticatedUser.friends, id)) {\n      return false;\n    }\n    if (isWaiting(authenticatedUser.waiting, id)) {\n      return false;\n    }\n    if (isPending(authenticatedUser.pending, id)) {\n      return false;\n    }\n    return true;\n  }\n\n  const filterUsers = (authenticatedUser, users) => {\n    if (!authenticatedUser || !users || !users.length) {\n      return;\n    }\n    const filteredUsers = users.filter(user => isNotFriend(authenticatedUser, user));\n    setUsers(() => filteredUsers);\n  };\n\n  loadUsers = (name = '') => {\n    realTimeDb.ref().child('users').orderByChild('fullname').startAt(name).endAt(name + \"\\uf8ff\").on(\"value\", function (snapshot) {\n      const values = snapshot.val();\n      if (values && values.length !== 0) {\n        const keys = Object.keys(values);\n        const users = keys.map(key => values[key]);\n        filterUsers(authenticatedUser, users);\n      } else {\n        setUsers(() => []);\n      }\n    });\n  };\n\n  const onSearchChanged = (keywords) => {\n    const name = keywords && keywords.length ? keywords : '';\n    loadUsers(name);\n  };\n\n  const updateUser = async (user) => {\n    if (!user) {\n      return;\n    }\n    await realTimeDb.ref(`users/${user.id}`).set(user);\n  };\n\n  const updateUsers = async (authenticatedUser, selectedUser) => {\n    if (!authenticatedUser || !selectedUser) {\n      return;\n    }\n    setIsLoading(true);\n    const authenticatedUserPending = { id: authenticatedUser.id, fullname: authenticatedUser.fullname, email: authenticatedUser.email, avatar: authenticatedUser.avatar };\n    const selectedUserPending = { id: selectedUser.id, fullname: selectedUser.fullname, email: selectedUser.email, avatar: selectedUser.avatar };\n    authenticatedUser.waiting = authenticatedUser.waiting && authenticatedUser.waiting.length ? [...authenticatedUser.waiting, selectedUserPending] : [selectedUserPending];\n    selectedUser.pending = selectedUser.pending && selectedUser.pending.length ? [...selectedUser.pending, authenticatedUserPending] : [authenticatedUserPending];\n    await updateUser(authenticatedUser);\n    await updateUser(selectedUser);\n    setIsLoading(false);\n    alert(`The request was sent to ${selectedUser.fullname} successfully`);\n  }\n\n  const onConfirmShown = async (selectedUser) => {\n    const shoudRequestSent = window.confirm(`Would you like to add ${selectedUser.fullname} as a friend`);\n    if (shoudRequestSent) { \n      await updateUsers(authenticatedUser, selectedUser);\n    }\n  }\n\n  return (\n    <div className=\"add-friend\">\n      <Search onSearchChanged={onSearchChanged} />\n      <Users users={users} onConfirmShown={onConfirmShown} />\n    </div>\n  );\n};\nexport default Add;","const RightSidebar = () => {\n  return (\n    <div className=\"right-sidebar\">\n      <div className=\"right-sidebar__title\">Active Now</div>\n      <div className=\"right-sidebar__description\">\n        <p className=\"right-sidebar__description-title\">It's quiet for now...</p>\n        <p className=\"right-sidebar__description-content\">When a friend starts active-now activity - like playing a game or hanging out on voice - we'll show it here!</p>\n      </div>\n    </div>\n  );\n};\n\nexport default RightSidebar;","import { useState, useContext } from 'react';\nimport { CometChatMessages  } from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\nimport Header from './Header';\nimport Pendings from './Pendings';\nimport Add from './Add';\nimport RightSidebar from './RightSidebar';\nimport Context from '../../context';\n\nconst Main = () => {\n  const [selectedOption, setSelectedOption] = useState(1);\n\n  const { selectedFriend, setSelectedFriend } = useContext(Context);\n\n  const onItemSelected = (index) => {\n    setSelectedOption(() => index);\n    setSelectedFriend(null);\n  }\n\n  const renderMain = () => {\n    if (selectedFriend) {\n      return <CometChatMessages chatWithUser={selectedFriend.uid} />;\n    }\n    if (selectedOption === 1) {\n      return <Pendings />;\n    }\n    if (selectedOption === 3) {\n      return <Add />;\n    }\n  };\n\n  return (\n    <div className=\"friends__main\">\n      <Header onItemSelected={onItemSelected} selectedOption={selectedOption} />\n      <div className=\"friends__container\">\n        <div className=\"friends__container-body\">\n          {renderMain()}\n        </div>\n        <RightSidebar />\n      </div>\n    </div>\n  );\n};\nexport default Main;","import Sidebars from './Sidebars';\nimport Main from './Main';\n\nconst Friend = () => {\n  return (\n    <div className=\"friends__container\">\n      <Sidebars />\n      <Main />\n    </div>\n  );\n};\nexport default Friend;","import { useState } from 'react';\n\nconst withModal = ModalComponent => WrapperComponent => {\n  return function () { \n    const [isModalShown, setIsModalShown] = useState(false);\n    \n    return (\n      <>\n        <WrapperComponent toggleModal={setIsModalShown}/>\n        {isModalShown && <ModalComponent toggleModal={setIsModalShown} />}\n      </>\n    )\n  }\n}\n\nexport default withModal;","const Channel = (props) => {\n  const { channelType, channel, onItemClicked } = props;\n\n  const renderChannelIcon = () => {\n    if (channelType === 1) {\n      return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className=\"icon-3pNFyS\" background=\"background-6FOJIb\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z\"></path></svg>;\n    } else if (channelType === 2) { \n      return <svg className=\"icon-3pNFyS\" background=\"background-6FOJIb\" aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.383 3.07904C11.009 2.92504 10.579 3.01004 10.293 3.29604L6 8.00204H3C2.45 8.00204 2 8.45304 2 9.00204V15.002C2 15.552 2.45 16.002 3 16.002H6L10.293 20.71C10.579 20.996 11.009 21.082 11.383 20.927C11.757 20.772 12 20.407 12 20.002V4.00204C12 3.59904 11.757 3.23204 11.383 3.07904ZM14 5.00195V7.00195C16.757 7.00195 19 9.24595 19 12.002C19 14.759 16.757 17.002 14 17.002V19.002C17.86 19.002 21 15.863 21 12.002C21 8.14295 17.86 5.00195 14 5.00195ZM14 9.00195C15.654 9.00195 17 10.349 17 12.002C17 13.657 15.654 15.002 14 15.002V13.002C14.551 13.002 15 12.553 15 12.002C15 11.451 14.551 11.002 14 11.002V9.00195Z\" aria-hidden=\"true\"></path></svg>;\n    }\n  };\n\n  const selectChannel = () => {\n    onItemClicked(channel, channelType);\n  };\n\n  return (\n    <div className={`channels__list-item ${channel.isActive ? 'channels__list-item--active' : ''}`} onClick={selectChannel}>\n      <div className=\"channels__list-item-icon\">\n        {renderChannelIcon()}\n      </div>\n      <div className=\"channels__list-item-title\">\n        <span>{channel.name}</span>\n      </div>\n    </div>\n  );\n};\nexport default Channel;","import { useState } from \"react\";\nimport Channel from './Channel';\n\nconst Channels = (props) => {\n  const { title, channelType, channels, onItemClicked } = props;\n\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const toggleExpand = () => {\n    setIsExpanded(previous => !previous);\n  };\n\n  return (\n    <div className=\"channels\">\n      <div className=\"channels__title\" onClick={toggleExpand}>\n        <div className={`channel__title-left ${isExpanded ? 'channel__title-left--active' : ''}`}>\n          <svg className=\"arrow-gKvcEx icon-2yIBmh\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16.59 8.59004L12 13.17L7.41 8.59004L6 10L12 16L18 10L16.59 8.59004Z\"></path></svg>\n        </div>\n        <div className=\"channel__title-right\">\n          <span>{title}</span>\n        </div>\n      </div>\n      {isExpanded && <div className=\"channels__list\">\n        {channels && channels.map(channel => <Channel key={channel.guid} channelType={channelType} channel={channel} onItemClicked={onItemClicked} />)}\n      </div>}\n    </div>\n  );\n};\nexport default Channels;","import { useState, useEffect, useContext } from 'react';\nimport withModal from '../common/Modal';\nimport Create from '../channel/Create';\nimport Channels from '../channel/Channels';\nimport Context from '../../context';\nimport { realTimeDb } from '../../firebase';\n\nconst Sidebars = (props) => {\n  const { toggleModal } = props;\n\n  const [textChannels, setTextChannels] = useState([]);\n  const [voiceChannels, setVoiceChannels] = useState([]);\n\n  const { cometChat, user, setSelectedChannel, setSelectedChannelType } = useContext(Context);\n\n  let listenCustomMessages = null;\n\n  useEffect(() => {\n    loadTextChannels();\n    loadVoiceChannels();\n    return () => {\n      setTextChannels([]);\n      setVoiceChannels([]);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (cometChat) {\n      listenCustomMessages();\n    }\n    return () => {\n      if (cometChat) {\n        cometChat.removeMessageListener(user.id);\n      }\n    }\n  }, [cometChat, listenCustomMessages, user]);\n\n  const loadTextChannels = () => {\n    realTimeDb.ref().child('text-channels').orderByChild('name').on(\"value\", function (snapshot) {\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const channels = keys.map(key => val[key]);\n        setTextChannels(() => channels);\n      }\n    });\n  };\n\n  const loadVoiceChannels = () => {\n    realTimeDb.ref().child('voice-channels').orderByChild('name').on(\"value\", function (snapshot) {\n      const val = snapshot.val();\n      if (val) {\n        const keys = Object.keys(val);\n        const channels = keys.map(key => val[key]);\n        setVoiceChannels(() => channels);\n      }\n    });\n  };\n\n  listenCustomMessages = () => {\n    cometChat.addMessageListener(\n      user.id,\n      new cometChat.MessageListener({\n        onCustomMessageReceived: customMessage => {\n          if (customMessage && customMessage.sender && customMessage.sender.uid && customMessage.sender.uid !== user.id && customMessage.data && customMessage.data.customData && customMessage.data.customData.message) {\n            if (customMessage && customMessage.type && customMessage.type === 'group') {\n            }\n          }\n        }\n      })\n    );\n  };\n\n  const createChannel = () => {\n    toggleModal(true);\n  };\n\n  const setActiveChannel = (selectedChannel) => {\n    if (!selectedChannel) {\n      return;\n    }\n    setTextChannels(previousChannels => previousChannels.map(channel => channel.guid === selectedChannel.guid ? { ...selectedChannel, isActive: true } : { ...channel, isActive: false }));\n    setVoiceChannels(previousChannels => previousChannels.map(channel => channel.guid === selectedChannel.guid ? { ...selectedChannel, isActive: true } : { ...channel, isActive: false }));\n  };\n\n  const joinCometChatGroup = async (selectedChannel) => {\n    if (!selectedChannel) {\n      return;\n    }\n    await cometChat.joinGroup(selectedChannel.guid, 'public', '');\n  };\n\n  const joinFirebaseChannel = async ({ latestSelectedChannel, user, convertedChannelType }) => {\n    if (!latestSelectedChannel || !user) {\n      return;\n    }\n    latestSelectedChannel.members = latestSelectedChannel.members && latestSelectedChannel.members.length ? [...latestSelectedChannel.members, user.id] : [user.id];\n    await await realTimeDb.ref(`${convertedChannelType}/${latestSelectedChannel.guid}`).set(latestSelectedChannel);\n  };\n\n  const getLatestSelectedChannel = async (guid, channelType) => {\n    if (!guid || !channelType) {\n      return null;\n    }\n    const snapshot = await realTimeDb.ref().child(channelType).orderByChild('guid').equalTo(guid).once(\"value\");\n    const val = snapshot.val();\n    if (!val) {\n      return null;\n    }\n    if (val) {\n      const keys = Object.keys(val);\n      return val[keys[0]];\n    }\n\n  };\n\n  const onChannelSelected = async (selectedChannel, channelType) => {\n    if (!selectedChannel || !channelType) {\n      return;\n    }\n    const convertedChannelType = channelType === 1 ? 'text-channels' : 'voice-channels';\n    const latestSelectedChannel = await getLatestSelectedChannel(selectedChannel.guid, convertedChannelType);\n    if (latestSelectedChannel && (!latestSelectedChannel.members || !latestSelectedChannel.members.includes(user.id))) {\n      await joinFirebaseChannel({ latestSelectedChannel, user, convertedChannelType });\n      await joinCometChatGroup(latestSelectedChannel);\n    }\n    setActiveChannel(selectedChannel);\n    setSelectedChannel(selectedChannel);\n    setSelectedChannelType(channelType);\n  };\n\n  return (\n    <div className=\"server__sidebar\">\n      <div className=\"server__header\">\n        <div className=\"server__header-left\">\n          <span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ width: '1.5rem', height: '1.5rem' }} className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01\" /></svg>\n          </span>\n          <span className=\"server__header-title\">Server</span>\n        </div>\n        <div className=\"server__header-right\" onClick={createChannel}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n        </div>\n      </div>\n      <div className=\"server__list\">\n        <Channels title='Text Channels' channels={textChannels} channelType={1} onItemClicked={onChannelSelected} />\n        <Channels title='Voice Channels' channels={voiceChannels} channelType={2} onItemClicked={onChannelSelected} />\n      </div>\n    </div>\n  );\n};\nexport default withModal(Create)(Sidebars);","import { useState, useRef, useContext } from 'react';\nimport { v4 as uuidv4 } from \"uuid\";\nimport Context from '../../context';\nimport { realTimeDb } from '../../firebase';\n\nconst Create = (props) => {\n  const { toggleModal } = props;\n\n  const { user, cometChat, setIsLoading } = useContext(Context);\n\n  const [selectedType, setSelectedType] = useState(1);\n\n  const channelNameRef = useRef(null);\n\n  const selectChannelType = (selectedType) => () => {\n    if (!selectedType) {\n      return;\n    }\n    setSelectedType(() => selectedType);\n  };\n\n  const renderInputIcon = () => {\n    if (selectedType === 1) {\n      return <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className=\"icon-3pNFyS\" background=\"background-6FOJIb\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z\"></path></svg>\n    } else if (selectedType === 2) {\n      return <svg className=\"icon-3pNFyS\" background=\"background-6FOJIb\" aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.383 3.07904C11.009 2.92504 10.579 3.01004 10.293 3.29604L6 8.00204H3C2.45 8.00204 2 8.45304 2 9.00204V15.002C2 15.552 2.45 16.002 3 16.002H6L10.293 20.71C10.579 20.996 11.009 21.082 11.383 20.927C11.757 20.772 12 20.407 12 20.002V4.00204C12 3.59904 11.757 3.23204 11.383 3.07904ZM14 5.00195V7.00195C16.757 7.00195 19 9.24595 19 12.002C19 14.759 16.757 17.002 14 17.002V19.002C17.86 19.002 21 15.863 21 12.002C21 8.14295 17.86 5.00195 14 5.00195ZM14 9.00195C15.654 9.00195 17 10.349 17 12.002C17 13.657 15.654 15.002 14 15.002V13.002C14.551 13.002 15 12.553 15 12.002C15 11.451 14.551 11.002 14 11.002V9.00195Z\" aria-hidden=\"true\"></path></svg>\n    }\n  };\n\n  const close = () => {\n    toggleModal(false);\n  };\n\n  const createChannel = ({ name, guid }) => {\n    return { name, guid, members: [user.id] };\n  };\n\n  const createFirebaseChannel = async ({ channelType, guid, createdChannel }) => {\n    await realTimeDb.ref(`${channelType}/${guid}`).set(createdChannel);\n  }\n\n  const createCometChatGroup = async ({ guid, channelName }) => {\n    const group = new cometChat.Group(guid, channelName, 'public', '');\n    await cometChat.createGroup(group);\n  };\n\n  const create = async () => {\n    const channelName = channelNameRef.current.value;\n    if (channelName) {\n      setIsLoading(true);\n      const guid = uuidv4();\n      const createdChannel = createChannel({ name: channelName, guid });\n      const channelType = selectedType === 1 ? 'text-channels' : 'voice-channels';\n      await createFirebaseChannel({ channelType, guid, createdChannel });\n      await createCometChatGroup({ guid, channelName });\n      setIsLoading(false);\n      close();\n    }\n  };\n\n  return (\n    <div className=\"channel\">\n      <div className=\"channel__content\">\n        <div className=\"channel__container\">\n          <div className=\"channel__close\">\n            <img\n              alt=\"close\"\n              onClick={() => toggleModal(false)}\n              src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/__geKiQnSG-.png\"\n            />\n          </div>\n        </div>\n        <div className=\"channel__subtitle\">Create Channel</div>\n        <div className=\"channel__description\">In Text/Voice Channel</div>\n        <div className=\"channel__type-title\">Channel Type</div>\n        <div className={`channel__item ${selectedType === 1 ? 'channel__item--active' : ''}`} onClick={selectChannelType(1)}>\n          <div className=\"channel__indicator\">\n            <div className=\"channel__indicator-outer\">\n            </div>\n            <div className={`channel__indicator-inner ${selectedType === 1 ? 'channel__indicator-inner--active' : ''}`}>\n            </div>\n          </div>\n          <div className=\"channel__icon\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className=\"icon-3pNFyS\" background=\"background-6FOJIb\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.88657 21C5.57547 21 5.3399 20.7189 5.39427 20.4126L6.00001 17H2.59511C2.28449 17 2.04905 16.7198 2.10259 16.4138L2.27759 15.4138C2.31946 15.1746 2.52722 15 2.77011 15H6.35001L7.41001 9H4.00511C3.69449 9 3.45905 8.71977 3.51259 8.41381L3.68759 7.41381C3.72946 7.17456 3.93722 7 4.18011 7H7.76001L8.39677 3.41262C8.43914 3.17391 8.64664 3 8.88907 3H9.87344C10.1845 3 10.4201 3.28107 10.3657 3.58738L9.76001 7H15.76L16.3968 3.41262C16.4391 3.17391 16.6466 3 16.8891 3H17.8734C18.1845 3 18.4201 3.28107 18.3657 3.58738L17.76 7H21.1649C21.4755 7 21.711 7.28023 21.6574 7.58619L21.4824 8.58619C21.4406 8.82544 21.2328 9 20.9899 9H17.41L16.35 15H19.7549C20.0655 15 20.301 15.2802 20.2474 15.5862L20.0724 16.5862C20.0306 16.8254 19.8228 17 19.5799 17H16L15.3632 20.5874C15.3209 20.8261 15.1134 21 14.8709 21H13.8866C13.5755 21 13.3399 20.7189 13.3943 20.4126L14 17H8.00001L7.36325 20.5874C7.32088 20.8261 7.11337 21 6.87094 21H5.88657ZM9.41045 9L8.35045 15H14.3504L15.4104 9H9.41045Z\"></path></svg>\n          </div>\n          <div className=\"channel__info\">\n            <div className=\"channel__info-title\">\n              Text Channel\n            </div>\n            <div className=\"channel__info-description\">\n              Post images, GIFs, stickers, opinions, and puns\n            </div>\n          </div>\n        </div>\n        <div className={`channel__item channel__voice ${selectedType === 2 ? 'channel__item--active' : ''}`} onClick={selectChannelType(2)}>\n          <div className=\"channel__indicator\">\n            <div className=\"channel__indicator-outer\">\n            </div>\n            <div className={`channel__indicator-inner ${selectedType === 2 ? 'channel__indicator-inner--active' : ''}`}>\n            </div>\n          </div>\n          <div className=\"channel__icon\">\n            <svg className=\"icon-3pNFyS\" background=\"background-6FOJIb\" aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path className=\"foreground-SshK2E\" fill=\"currentColor\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.383 3.07904C11.009 2.92504 10.579 3.01004 10.293 3.29604L6 8.00204H3C2.45 8.00204 2 8.45304 2 9.00204V15.002C2 15.552 2.45 16.002 3 16.002H6L10.293 20.71C10.579 20.996 11.009 21.082 11.383 20.927C11.757 20.772 12 20.407 12 20.002V4.00204C12 3.59904 11.757 3.23204 11.383 3.07904ZM14 5.00195V7.00195C16.757 7.00195 19 9.24595 19 12.002C19 14.759 16.757 17.002 14 17.002V19.002C17.86 19.002 21 15.863 21 12.002C21 8.14295 17.86 5.00195 14 5.00195ZM14 9.00195C15.654 9.00195 17 10.349 17 12.002C17 13.657 15.654 15.002 14 15.002V13.002C14.551 13.002 15 12.553 15 12.002C15 11.451 14.551 11.002 14 11.002V9.00195Z\" aria-hidden=\"true\"></path></svg>\n          </div>\n          <div className=\"channel__info\">\n            <div className=\"channel__info-title\">\n              Voice Channel\n            </div>\n            <div className=\"channel__info-description\">\n              Hang out with voice, video, and screen sharing\n            </div>\n          </div>\n        </div>\n        <div className=\"channel__name-title\">Channel Name</div>\n        <div className=\"channel__name-input-container\">\n          {renderInputIcon()}\n          <input type=\"text\" placeholder=\"new-channel\" ref={channelNameRef} />\n        </div>\n        <div className=\"channel__actions\">\n          <div className=\"channel__cancel\" onClick={close}>\n            <span>Cancel</span>\n          </div>\n          <div className=\"channel__create\" onClick={create}>\n            <span>Create Channel</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Create;","const Header = () => {\n  return (\n    <div className=\"server__main-header\">\n    </div>\n  );\n};\nexport default Header;","const Sidebar = (props) => {\n  const { member } = props;\n\n  if (!member) {\n    return <></>\n  }\n\n  return (\n    <div className=\"group-members__list-item\">\n      <div className=\"group-members__list-item-avatar\">\n        <div className={`group-members__list-item-status ${member.status === 'online' ? 'group-members__list-item-status--online' : ''}`}></div>\n        <img src={member.avatar} alt=\"grou-member-avatar\" />\n      </div>\n      <span>{member.name}</span>\n    </div>\n  );\n};\nexport default Sidebar;","import { useState, useEffect, useContext, useRef, useCallback } from 'react';\nimport { v4 as uuidv4 } from \"uuid\";\nimport Sidebar from './Sidebar';\nimport Context from '../../context';\n\nconst RightSidebar = () => {\n  const [members, setMembers] = useState([]);\n\n  const { cometChat, selectedChannel } = useContext(Context);\n\n  const userPresenseListenerId = useRef(uuidv4());\n\n  let loadChannelMembers = null;\n  let listenGroupChanges = null;\n  let listenUserPresense = null;\n\n  useEffect(() => {\n    if (cometChat && selectedChannel) {\n      loadChannelMembers();\n      listenGroupChanges();\n      listenUserPresense();\n      return () => {\n        setMembers([]);\n        if (cometChat) {\n          cometChat.removeGroupListener(selectedChannel.guid);\n          cometChat.removeUserListener(userPresenseListenerId);\n        }\n      }\n    }\n  }, [cometChat, selectedChannel, loadChannelMembers, listenGroupChanges, listenUserPresense, userPresenseListenerId]);\n\n  loadChannelMembers = useCallback(() => {\n    const limit = 30;\n    const groupMemberRequest = new cometChat.GroupMembersRequestBuilder(selectedChannel.guid)\n      .setLimit(limit)\n      .build();\n\n    groupMemberRequest.fetchNext().then(\n      groupMembers => {\n        setMembers(() => groupMembers);\n      }, error => {\n      }\n    );\n  }, [cometChat, selectedChannel]);\n\n  listenGroupChanges = useCallback(() => {\n    cometChat.addGroupListener(\n      selectedChannel.guid,\n      new cometChat.GroupListener({\n        onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n          loadChannelMembers();\n        },\n        onGroupMemberLeft: (message, leftUser, leftGroup) => {\n          loadChannelMembers();\n        },\n        onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n          loadChannelMembers();\n        },\n        onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n          loadChannelMembers();\n        },\n        onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n          loadChannelMembers();\n        },\n        onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n          loadChannelMembers();\n        },\n        onMemberAddedToGroup: (message, userAdded, addedby, addedTo) => {\n          loadChannelMembers();\n        },\n      })\n    );\n  }, [cometChat, selectedChannel, loadChannelMembers]);\n\n  const updateMembers = (user) => {\n    if (!user) {\n      return;\n    }\n    setMembers(previousMembers => previousMembers.map(member => {\n      if (member && member.uid === user.uid) {\n        return { ...member, status: user.status === 'online' ? 'available' : 'offline' };\n      }\n      return { ...member };\n    }));\n  };\n\n  listenUserPresense = useCallback(() => {\n    cometChat.addUserListener(\n      userPresenseListenerId,\n      new cometChat.UserListener({\n        onUserOnline: onlineUser => {\n          updateMembers(onlineUser);\n        },\n        onUserOffline: offlineUser => {\n          updateMembers(offlineUser);\n        }\n      })\n    );\n  }, [cometChat]);\n\n  if (!members || !members.length) {\n    return (\n      <div className=\"right-sidebar\">\n        <div className=\"right-sidebar__title\">Active Now</div>\n        <div className=\"right-sidebar__description\">\n          <p className=\"right-sidebar__description-title\">It's quiet for now...</p>\n          <p className=\"right-sidebar__description-content\">When a friend starts active-now activity - like playing a game or hanging out on voice - we'll show it here!</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"right-sidebar\">\n      <div className=\"group-members__sidebar\">\n        <span className=\"group-members__title\">Channel Members</span>\n        <div className=\"group-members__list\">\n          {members && members.map(member => <Sidebar key={member.uid} member={member} />)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RightSidebar;","import { useEffect, useContext } from 'react';\n\nimport { CometChatMessages } from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\nimport Header from './Header';\nimport RightSidebar from './RightSidebar';\n\nimport Context from '../../context';\n\nconst Main = () => {\n  const { cometChat, selectedChannel, selectedChannelType, setSelectedChannelType } = useContext(Context);\n\n  let startDirectCall = null;\n\n  useEffect(() => {\n    if (cometChat && selectedChannel && selectedChannelType === 2) {\n      startDirectCall();\n    }\n  }, [cometChat, selectedChannel, selectedChannelType, startDirectCall]);\n\n  startDirectCall = () => {\n    if (cometChat && selectedChannel && selectedChannelType === 2) {\n      const sessionID = selectedChannel.guid;\n      const audioOnly = false;\n      const defaultLayout = true;\n      const callSettings = new cometChat.CallSettingsBuilder()\n        .enableDefaultLayout(defaultLayout)\n        .setSessionID(sessionID)\n        .setIsAudioOnlyCall(audioOnly)\n        .build();\n      const callSceen = document.getElementById(\"call__screen\");\n      callSceen.classList.add('call__screen--active');\n      cometChat.startCall(\n        callSettings,\n        document.getElementById(\"call__screen\"),\n        new cometChat.OngoingCallListener({\n          onUserListUpdated: userList => {\n          },\n          onCallEnded: call => {\n            callSceen.classList.remove('call__screen--active');\n            setSelectedChannelType(null);\n          },\n          onError: error => {\n            callSceen.classList.remove('call__screen--active');\n            setSelectedChannelType(null);\n          },\n          onMediaDeviceListUpdated: deviceList => {\n          },\n          onUserMuted: (userMuted, userMutedBy) => {\n          },\n          onScreenShareStarted: () => {\n          },\n          onScreenShareStopped: () => {\n          }\n        })\n      );\n    }\n  };\n\n  return (\n    <>\n      <div className=\"server__main\">\n        <Header />\n        <div className=\"server__container\">\n          <div className=\"server__container-body\">\n            {selectedChannel && selectedChannelType === 1 && <CometChatMessages chatWithGroup={selectedChannel.guid} />}\n          </div>\n          <RightSidebar />\n        </div>\n      </div>\n      <div id=\"call__screen\"></div>\n    </>\n  );\n};\nexport default Main;","import { useEffect, useContext } from 'react';\nimport Sidebars from './Sidebars';\nimport Main from './Main';\nimport Context from '../../context';\n\nconst Server = () => {\n  const { setSelectedChannel } = useContext(Context);\n\n  useEffect(() => {\n    return () => {\n      setSelectedChannel(null);\n    }\n  }, [setSelectedChannel]);\n\n  return (\n    <div className=\"server__container\">\n      <Sidebars />\n      <Main />\n    </div>\n  );\n};\nexport default Server;","import { useEffect, useRef, useContext } from \"react\";\nimport validator from \"validator\";\nimport { useHistory } from 'react-router-dom';\nimport withModal from \"../common/Modal\";\nimport SignUp from \"../register/SignUp\";\nimport Context from \"../../context\";\nimport { auth, realTimeDb } from \"../../firebase\";\n\nconst Login = (props) => {\n  const { toggleModal } = props;\n\n  const { setUser, setIsLoading, cometChat } = useContext(Context);\n\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  const history = useHistory();\n\n  useEffect(() => { \n    const authenticatedUser = JSON.parse(localStorage.getItem('auth'));\n    if (authenticatedUser) { \n      history.push('/');\n    } else {\n      setUser(null);\n    }\n  }, [history, setUser]);\n\n  const getInputs = () => {\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    return { email, password };\n  };\n\n  const isUserCredentialsValid = (email, password) => {\n    return validator.isEmail(email) && password;\n  };\n\n  const loginCometChat = (user) => {\n    const authKey = `${process.env.REACT_APP_COMETCHAT_AUTH_KEY}`;\n    cometChat.login(user.id, authKey).then(\n      User => {\n        setUser(user);\n        setIsLoading(false);\n        localStorage.setItem('auth', JSON.stringify(user));\n        history.push('/');\n      },\n      error => {\n      }\n    );\n  };\n\n  const login = () => {\n    setIsLoading(true);\n    const { email, password } = getInputs();\n    if (isUserCredentialsValid(email, password)) {\n      auth.signInWithEmailAndPassword(email, password).then((userCredential) => {\n        realTimeDb.ref().child('users').orderByChild('email').equalTo(email).on(\"value\", function (snapshot) {\n          const val = snapshot.val();\n          if (val) {\n            const keys = Object.keys(val);\n            const user = val[keys[0]];\n            loginCometChat(user);\n          }\n        });\n      })\n        .catch((error) => {\n          setIsLoading(false);\n          alert(`Your user's name or password is not correct`);\n        });\n    } else {\n      setIsLoading(false);\n      alert(`Your user's name or password is not correct`);\n    }\n  };\n\n  return (\n    <div className=\"login__container\">\n      <div className=\"login__welcome\">\n        <div className=\"login__logo\">\n          <img src='https://assets-global.website-files.com/5f3c19f18169b65d9d0bf384/5f3c19f18169b655820bf3d4_asset%2021.svg' alt='logo'/>\n        </div>\n        <p>Build <span style={{color: \"#404EED\", fontWeight: 'bold'}}>Discord Clone</span> with React</p>\n      </div>\n      <div className=\"login__form-container\">\n        <div className=\"login__form\">\n          <input\n            type=\"text\"\n            placeholder=\"Email or phone number\"\n            ref={emailRef}\n          />\n          <input type=\"password\" placeholder=\"Password\" ref={passwordRef} />\n          <button className=\"login__submit-btn\" onClick={login}>\n            Login\n          </button>\n          <span className=\"login__forgot-password\">Forgot password?</span>\n          <span className=\"login__signup\" onClick={() => toggleModal(true)}>Create New Account</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withModal(SignUp)(Login);\n","import { useRef, useContext } from \"react\";\nimport validator from \"validator\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Context from \"../../context\";\nimport { auth, realTimeDb } from \"../../firebase\";\n\nconst SignUp = (props) => {\n  const { toggleModal } = props;\n\n  const fullnameRef = useRef(null);\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n  const confirmPasswordRef = useRef(null);\n\n  const { cometChat, setIsLoading } = useContext(Context);\n\n  const getInputs = () => {\n    const fullname = fullnameRef.current.value;\n    const email = emailRef.current.value;\n    const password = passwordRef.current.value;\n    const confirmPassword = confirmPasswordRef.current.value;\n    return { fullname, email, password, confirmPassword };\n  };\n\n  const isSignupValid = ({ fullname, email, password, confirmPassword }) => {\n    if (validator.isEmpty(fullname)) {\n      alert(\"Please input your fullname\");\n      return false;\n    }\n    if (!validator.isEmail(email)) {\n      alert(\"Please input your email\");\n      return false;\n    }\n    if (validator.isEmpty(password) || !validator.isLength(password, { min: 6 })) {\n      alert(\"Please input your password. You password must have at least 6 characters\");\n      return false;\n    }\n    if (validator.isEmpty(confirmPassword)) {\n      alert(\"Please input your confirm password\");\n      return false;\n    }\n    if (password !== confirmPassword) {\n      alert(\"Confirm password and password must be the same\");\n      return false;\n    }\n    return true;\n  };\n\n  const generateAvatar = () => {\n    const avatars = [\n      'https://data-us.cometchat.io/assets/images/avatars/captainamerica.png',\n      'https://data-us.cometchat.io/assets/images/avatars/cyclops.png',\n      'https://data-us.cometchat.io/assets/images/avatars/ironman.png',\n      'https://data-us.cometchat.io/assets/images/avatars/spiderman.png',\n      'https://data-us.cometchat.io/assets/images/avatars/wolverine.png'\n    ];\n    const avatarPosition = Math.floor(Math.random() * avatars.length);\n    return avatars[avatarPosition];\n  };\n\n  const createAccount = ({ userUuid, fullname, email, userAvatar }) => {\n    return { id: userUuid, fullname, email, avatar: userAvatar }\n  };\n\n  const createCometChatAccount = ({ userUuid, fullname, userAvatar }) => {\n    const authKey = `${process.env.REACT_APP_COMETCHAT_AUTH_KEY}`;\n    const user = new cometChat.User(userUuid);\n    user.setName(fullname);\n    user.setAvatar(userAvatar);\n    cometChat.createUser(user, authKey).then(\n      user => {\n        setIsLoading(false);\n      }, error => {\n        setIsLoading(false);\n      }\n    )\n  };\n\n  const signup = () => {\n    const { fullname, email, password, confirmPassword } = getInputs();\n    if (isSignupValid({ fullname, email, password, confirmPassword })) {\n      setIsLoading(true);\n      const userUuid = uuidv4();\n      const userAvatar = generateAvatar();\n      auth.createUserWithEmailAndPassword(email, password).then((userCrendentials) => {\n        if (userCrendentials) {\n          const createdAccount = createAccount({ userUuid, fullname, email, userAvatar });\n          realTimeDb.ref(`users/${userUuid}`).set(createdAccount).then(() => {\n            alert(`${email} was created successfully! Please sign in with your created account`);\n            createCometChatAccount({ userUuid, fullname, userAvatar });\n            toggleModal(false);\n          });\n        }\n      }).catch((error) => {\n        setIsLoading(false);\n        alert(`Cannot create your account, ${email} might be existed, please try again!`);\n      });\n    }\n  };\n\n  return (\n    <div className=\"signup\">\n      <div className=\"signup__content\">\n        <div className=\"signup__container\">\n          <div className=\"signup__title\">Sign Up</div>\n          <div className=\"signup__close\">\n            <img\n              alt=\"close\"\n              onClick={() => toggleModal(false)}\n              src=\"https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/__geKiQnSG-.png\"\n            />\n          </div>\n        </div>\n        <div className=\"signup__subtitle\"></div>\n        <div className=\"signup__form\">\n          <input type=\"text\" placeholder=\"Fullname\" ref={fullnameRef} />\n          <input type=\"text\" placeholder=\"Email\" ref={emailRef} />\n          <input type=\"password\" placeholder=\"Password\" ref={passwordRef} />\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            ref={confirmPasswordRef}\n          />\n          <button className=\"signup__btn\" onClick={signup}>\n            Sign Up\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n","function Loading() {\n  return (\n    <div className=\"loading\">\n      <div className=\"lds-roller\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Loading;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n        <Route {...rest} render={props => (\n            localStorage.getItem('auth') ?\n                <Component {...props} />\n            : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Menus from './components/common/Menus';\nimport Friend from './components/friend/Friend';\nimport Server from './components/server/Server';\nimport Login from './components/login/Login';\nimport Loading from './components/common/Loading';\nimport PrivateRoute from './components/common/PrivateRoute';\nimport Context from './context';\nimport './index.css';\nfunction App() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [user, setUser] = useState(null);\n  const [cometChat, setCometChat] = useState(null);\n  const [selectedMenu, setSelectedMenu] = useState(1);\n  const [hasNewFriend, setHasNewFriend] = useState(false);\n  const [selectedFriend, setSelectedFriend] = useState(null);\n  const [selectedChannel, setSelectedChannel] = useState(null);\n  const [selectedChannelType, setSelectedChannelType] = useState(null);\n\n  useEffect(() => {\n    initAuthUser();\n    initCometChat();\n    initSelectedMenu();\n  }, []);\n\n  const initAuthUser = () => {\n    const authenticatedUser = localStorage.getItem('auth');\n    if (authenticatedUser) {\n      setUser(JSON.parse(authenticatedUser));\n    }\n  };\n\n  const initCometChat = async () => {\n    const { CometChat } = await import('@cometchat-pro/chat');\n    const appID = `${process.env.REACT_APP_COMETCHAT_APP_ID}`;\n    const region = `${process.env.REACT_APP_COMETCHAT_REGION}`;\n    const appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\n    CometChat.init(appID, appSetting).then(\n      () => {\n        setCometChat(() => CometChat);\n      },\n      error => {\n      }\n    );\n  }\n\n  const initSelectedMenu = () => {\n    const url = window.location.href;\n    setSelectedMenu(url.includes('server') ? 2 : 1);\n  };\n\n  return (\n    <Context.Provider value={{ isLoading, setIsLoading, user, setUser, cometChat, selectedMenu, setSelectedMenu, hasNewFriend, setHasNewFriend, selectedFriend, setSelectedFriend, selectedChannel, setSelectedChannel, selectedChannelType, setSelectedChannelType }}>\n      <Router>\n        {user && <Menus />}\n        <Switch>\n          <PrivateRoute exact path=\"/\" component={Friend} />\n          <PrivateRoute exact path=\"/server\" component={Server} />\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n        </Switch>\n      </Router>\n      {isLoading && <Loading />}\n    </Context.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}